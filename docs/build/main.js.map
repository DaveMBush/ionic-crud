{"version":3,"sources":["../../src/app/pages/list/list.actions.ts","../../node_modules/@angular/core/@angular lazy","../../src lazy","../../src/app/pages/edit/edit.component.ts","../../src/app/pages/list/filter.actions.ts","../../src/app/pages/list/list.component.ts","../../src/app/main.ts","../../src/app/app.module.ts","../../src/app/pages/edit/edit.module.ts","../../src/app/pages/edit/edit.effects.ts","../../src/app/pages/edit/edit.reducer.ts","../../src/app/pages/edit/edit.service.ts","../../src/app/shared/shared.module.ts","../../src/app/pages/list/list.module.ts","../../src/app/pages/list/filter.reducer.ts","../../src/app/pages/list/list.reducer.ts","../../src/app/pages/list/list.effects.ts","../../src/app/app.component.ts","../../src/app/shared/contacts.service.ts","../../src/app/pages/edit/edit.actions.ts"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["import { Contact } from '../../shared/contact';\r\nimport { Action } from '@ngrx/store';\r\n\r\n// tslint:disable:typedef\r\nexport const LIST = 'List.List';\r\nexport class List implements Action {\r\n    readonly type = LIST;\r\n}\r\n\r\nexport const LIST_RESULT = 'List.Result';\r\nexport class ListResult implements Action {\r\n    readonly type = LIST_RESULT;\r\n    constructor(public rows:\r\n        ReadonlyArray<Contact>) { }\r\n}\r\n\r\nexport const DELETE = 'List.Delete';\r\nexport class Delete implements Action {\r\n    readonly type = DELETE;\r\n    constructor(public id: number) { }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/pages/list/list.actions.ts","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 151;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@angular/core/@angular lazy\n// module id = 151\n// module chunks = 0","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 189;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src lazy\n// module id = 189\n// module chunks = 0","import { FormGroup } from '@angular/forms';\nimport { EditService } from './edit.service';\nimport { NavController, ToastController } from 'ionic-angular';\nimport { ChangeDetectionStrategy, Component, OnDestroy, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-edit',\n  templateUrl: './edit.component.html',\n  providers: [EditService]\n  // can't use onPush because components don't support it\n})\nexport class EditComponent implements OnInit, OnDestroy {\n  get form(): FormGroup {\n    return this.editService.form;\n  }\n\n  constructor(private editService: EditService,\n    private navCtrl: NavController,\n    private toastCtrl: ToastController\n  ) { }\n\n  ngOnInit(): void {\n    const id: number = this.navCtrl.getActive().getNavParams().data['id']\n    this.editService.ngOnInit(id ? id : -1);\n  }\n\n  public ngOnDestroy(): void {\n    this.editService.ngOnDestroy();\n  }\n\n  save(): void {\n    this.editService.save().subscribe(() =>\n      this.toastCtrl.create({\n        message: 'Saved!',\n        duration: 2000,\n        position: 'top'\n      }).present()\n    ).unsubscribe();\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/pages/edit/edit.component.ts","import { Action } from '@ngrx/store';\r\n\r\n// tslint:disable:typedef\r\nexport const SET = 'Filter.Set';\r\nexport class Set implements Action {\r\n    readonly type = SET;\r\n    constructor(public filter: string) { }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/pages/list/filter.actions.ts","import { EditComponent } from '../edit/edit.component';\nimport { AlertController, NavController, TextInput } from 'ionic-angular';\nimport { Observable } from 'rxjs/Rx';\nimport { Contact } from '../../shared/contact';\nimport { AppState } from '../../app-state';\nimport { Component, OnInit, ViewChild } from '@angular/core';\nimport { Store } from '@ngrx/store';\nimport * as List from './list.actions';\nimport * as Filter from './filter.actions';\n\n@Component({\n  selector: 'app-list',\n  templateUrl: './list.component.html'\n  // can't use onpush because of datetime component.\n})\nexport class ListComponent implements OnInit {\n  contacts: Observable<ReadonlyArray<Contact>>;\n  @ViewChild('filter') filter: TextInput;\n\n  constructor(private store: Store<AppState>,\n    private navCtrl: NavController,\n    private alertCtrl: AlertController\n  ) {\n    this.contacts = store.select(\n      (x: AppState) => x.list.list\n    );\n  }\n\n  ngOnInit(): void {\n  }\n\n  // since this page never goes away, we only need this code once.\n  ionViewDidLoad(): void {\n    this.store.select((x: AppState) => x.list.filter)\n      .first()\n      .subscribe((v: string) => this.filter.getNativeElement().children[0].value = v);\n    Observable.fromEvent(this.filter.getNativeElement().children[0], 'keyup')\n      .debounceTime(150)\n      .subscribe((): void => {\n        this.store.dispatch(new Filter.Set(this.filter.getNativeElement().children[0].value))\n        this.store.dispatch(new List.List());\n      });\n  }\n\n  // make sure we get the current list when we come back\n  ionViewDidEnter(): void {\n    this.store.dispatch(new List.List());\n  }\n\n  delete(evt: Event, id: number): void {\n    evt.preventDefault();\n    evt.stopPropagation();\n    this.alertCtrl.create({\n      title: 'Delete?',\n      message: 'Are you sure you want to delete this item?',\n      buttons: [\n        {\n          text: 'Yes',\n          handler: (): void => this.store.dispatch(new List.Delete(id))\n        },\n        {\n          text: 'Cancel',\n          handler: (): void => { return; }\n        }\n      ]\n\n    }).present();\n  }\n\n  edit(id: number): void {\n    this.navCtrl.push(EditComponent, { id: id })\n  }\n\n  add(): void {\n    this.navCtrl.push(EditComponent, { id: -1 });\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/pages/list/list.component.ts","import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app.module';\n\nplatformBrowserDynamic().bootstrapModule(AppModule);\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/main.ts","import { EditModule } from './pages/edit/edit.module';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { SharedModule } from './shared/shared.module';\r\nimport { ListModule } from './pages/list/list.module';\r\nimport { BrowserModule } from '@angular/platform-browser';\r\nimport { ErrorHandler, NgModule } from '@angular/core';\r\nimport { IonicApp, IonicErrorHandler, IonicModule } from 'ionic-angular';\r\nimport { SplashScreen } from '@ionic-native/splash-screen';\r\nimport { StatusBar } from '@ionic-native/status-bar';\r\nimport { StoreModule } from '@ngrx/store';\r\nimport { EffectsModule } from '@ngrx/effects';\r\nimport { AppComponent } from './app.component';\r\nimport { FlexLayoutModule } from '@angular/flex-layout';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    AppComponent\r\n  ],\r\n  imports: [\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    FlexLayoutModule,\r\n    StoreModule.forRoot({}),\r\n    EffectsModule.forRoot([]),\r\n    IonicModule.forRoot(AppComponent),\r\n    BrowserModule,\r\n    SharedModule,\r\n    ListModule,\r\n    EditModule\r\n  ],\r\n  bootstrap: [IonicApp],\r\n  entryComponents: [\r\n    AppComponent\r\n  ],\r\n  providers: [\r\n    StatusBar,\r\n    SplashScreen,\r\n    { provide: ErrorHandler, useClass: IonicErrorHandler }\r\n  ]\r\n})\r\nexport class AppModule { }\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","import { EditState } from './edit-state';\nimport { ReactiveFormsModule } from '@angular/forms';\nimport { EditEffects } from './edit.effects';\nimport { EditReducer } from './edit.reducer';\nimport { IonicPageModule } from 'ionic-angular/module';\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { EditComponent } from './edit.component';\nimport { ActionReducerMap, StoreModule } from '@ngrx/store';\nimport { EffectsModule } from '@ngrx/effects';\nimport { FlexLayoutModule } from '@angular/flex-layout';\n\nconst reducers: ActionReducerMap<EditState> = {\n  form: EditReducer\n}\n@NgModule({\n  imports: [\n    StoreModule.forFeature('edit', reducers),\n    EffectsModule.forFeature([EditEffects]),\n    FlexLayoutModule,\n    ReactiveFormsModule,\n    CommonModule,\n    IonicPageModule.forChild(EditComponent)\n  ],\n  declarations: [EditComponent]\n})\nexport class EditModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/pages/edit/edit.module.ts","import { AppState } from '../../app-state';\r\nimport { ContactsService } from '../../shared/contacts.service';\r\nimport { EditForm } from './edit-form';\r\nimport { Contact } from '../../shared/contact';\r\nimport { Observable } from 'rxjs/Rx';\r\nimport { Injectable } from '@angular/core';\r\nimport { Effect, Actions } from '@ngrx/effects';\r\nimport * as Edit from './edit.actions';\r\nimport { Store } from '@ngrx/store';\r\n\r\n@Injectable()\r\nexport class EditEffects {\r\n    @Effect()\r\n    get$: Observable<Edit.Update> =\r\n    this.actions$\r\n        .ofType(Edit.GET)\r\n        .switchMap((action: Edit.Get):\r\n            Observable<{} | ReadonlyArray<Contact>> =>\r\n            this.contactsService.get(action.id))\r\n        // no record means we retrieved id -1\r\n        .map((records: ReadonlyArray<Contact>):\r\n            Contact => records[0] || {\r\n                id: -1,\r\n                firstName: '',\r\n                lastName: '',\r\n                dateOfBirth: null\r\n            }\r\n        )\r\n        .map((x: Contact): EditForm =>\r\n            ({\r\n                id: x.id,\r\n                firstName: x.firstName,\r\n                lastName: x.lastName,\r\n                dateOfBirth: x.dateOfBirth ? x.dateOfBirth.toLocaleDateString() : ''\r\n            })\r\n        )\r\n        .map((x: EditForm): Edit.Update =>\r\n            new Edit.Update(x));\r\n\r\n    @Effect()\r\n    save$: Observable<Edit.Get> =\r\n    this.actions$\r\n        .ofType(Edit.SAVE)\r\n        .switchMap(\r\n        (action: Edit.Save): Observable<EditForm> =>\r\n            this.store.select(\r\n                (x: AppState) => x.edit.form)\r\n                .first()\r\n        ).switchMap(\r\n        (form: EditForm): Observable<{} | number> =>\r\n            this.contactsService\r\n                .update({\r\n                    id: form.id,\r\n                    firstName:\r\n                    form.firstName,\r\n                    lastName:\r\n                    form.lastName,\r\n                    dateOfBirth:\r\n                    new Date(form.dateOfBirth)\r\n                }))\r\n        .map((id: number) => new Edit.Get(id));\r\n\r\n\r\n    constructor(\r\n        private actions$: Actions,\r\n        private contactsService: ContactsService,\r\n        private store: Store<AppState>\r\n    ) { }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/pages/edit/edit.effects.ts","import { EditForm } from './edit-form';\r\nimport { ActionReducer } from '@ngrx/store';\r\nimport * as Edit from './edit.actions';\r\n\r\nexport function editReducer(\r\n    state: EditForm = {\r\n        id: -1,\r\n        firstName: '',\r\n        lastName: '',\r\n        dateOfBirth: ''\r\n    },\r\n    action: Edit.Update): EditForm {\r\n    switch (action.type) {\r\n        case Edit.UPDATE:\r\n            return action.form;\r\n        default:\r\n            return state;\r\n    }\r\n}\r\nexport const EditReducer:\r\n    ActionReducer<EditForm> =\r\n    editReducer;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/pages/edit/edit.reducer.ts","import { AppState } from '../../app-state';\r\nimport { EditForm } from './edit-form';\r\nimport { Store } from '@ngrx/store';\r\nimport { Observable, Subscription } from 'rxjs/Rx';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { Injectable, OnDestroy } from '@angular/core';\r\nimport * as Edit from './edit.actions';\r\n\r\n\r\n@Injectable()\r\nexport class EditService implements OnDestroy {\r\n    form: FormGroup;\r\n    formSubscription: Subscription;\r\n    editEntity: Store<EditForm>;\r\n    editEntitySubscription: Subscription;\r\n    // tslint:disable-next-line:typedef\r\n    saving = false;\r\n\r\n    constructor(\r\n        private formBuilder: FormBuilder,\r\n        private store: Store<AppState>\r\n    ) {\r\n        this.form = this.formBuilder.group({\r\n            id: ['', Validators.nullValidator],\r\n            firstName: ['', Validators.required],\r\n            lastName: ['', Validators.required],\r\n            dateOfBirth: ['', Validators.required]\r\n        });\r\n        this.editEntity = this.store.select(\r\n            (x: AppState) => x.edit.form);\r\n    }\r\n\r\n    // tslint:disable-next-line:use-life-cycle-interface\r\n    ngOnInit(id: number): void {\r\n        this.formSubscription =\r\n            this.form.valueChanges.subscribe(\r\n                (x: EditForm) =>\r\n                    this.store.dispatch(new Edit.Update(x))\r\n            );\r\n        this.editEntitySubscription =\r\n            this.editEntity.map((x: EditForm): EditForm => {\r\n                this.form.patchValue({\r\n                    id: x.id,\r\n                    firstName: x.firstName,\r\n                    lastName: x.lastName,\r\n                    dateOfBirth: x.dateOfBirth ? (new Date(x.dateOfBirth)).toISOString() : ''\r\n                }, { emitEvent: false });\r\n                return x;\r\n            })\r\n                .filter(() => this.saving)\r\n                .subscribe(() => this.saving = false);\r\n        this.store.dispatch(new Edit.Get(id));\r\n\r\n    }\r\n\r\n    public ngOnDestroy(): void {\r\n        this.formSubscription.unsubscribe();\r\n        this.editEntitySubscription.unsubscribe();\r\n    }\r\n\r\n    save(): Observable<boolean> {\r\n        this.saving = true;\r\n        this.store.dispatch(new Edit.Save());\r\n        return this.editEntity.filter(() => !this.saving)\r\n            .map(() => !this.saving)\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/pages/edit/edit.service.ts","import { FormsModule } from '@angular/forms';\r\nimport { ContactsService } from './contacts.service';\r\nimport { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { ActionReducerMap, StoreModule } from '@ngrx/store';\r\nimport { EffectsModule } from '@ngrx/effects';\r\n\r\nconst reducers: ActionReducerMap<{}> = {\r\n}\r\n\r\n@NgModule({\r\n    providers: [ContactsService],\r\n    imports: [\r\n        CommonModule,\r\n        FormsModule,\r\n        StoreModule.forFeature('shared',\r\n            reducers),\r\n        EffectsModule.forFeature([])\r\n    ],\r\n    declarations: [\r\n    ],\r\n    exports: [\r\n    ],\r\n    entryComponents: [\r\n    ]\r\n})\r\nexport class SharedModule { }\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/shared/shared.module.ts","import { ListState } from './list-state';\nimport { FilterReducer } from './filter.reducer';\nimport { ListReducer } from './list.reducer';\nimport { IonicPageModule } from 'ionic-angular/module';\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ListComponent } from './list.component';\nimport { ActionReducerMap, StoreModule } from '@ngrx/store';\nimport { EffectsModule } from '@ngrx/effects';\nimport { ListEffects } from './list.effects';\nimport { FlexLayoutModule } from '@angular/flex-layout';\nconst reducers: ActionReducerMap<ListState> = {\n  list: ListReducer,\n  filter: FilterReducer\n}\n\n@NgModule({\n  entryComponents: [\n    ListComponent\n  ],\n  imports: [\n    StoreModule.forFeature('list', reducers),\n    EffectsModule.forFeature([ListEffects]),\n    FlexLayoutModule,\n    CommonModule,\n    IonicPageModule.forChild(ListComponent)\n  ],\n  declarations: [ListComponent],\n  providers: []\n})\nexport class ListModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/pages/list/list.module.ts","import { ActionReducer } from '@ngrx/store';\r\nimport * as Filter from './filter.actions';\r\n\r\nexport function filterReducer(\r\n    // tslint:disable-next-line:typedef\r\n    state = '',\r\n    action: Filter.Set):\r\n    string {\r\n    switch (action.type) {\r\n        case Filter.SET:\r\n            return action.filter;\r\n        default:\r\n            return state;\r\n    }\r\n}\r\nexport const FilterReducer:\r\n    ActionReducer<string> =\r\n    filterReducer;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/pages/list/filter.reducer.ts","import { ActionReducer } from '@ngrx/store';\r\nimport { Contact } from '../../shared/contact';\r\nimport * as List from './list.actions';\r\n\r\nexport function listReducer(\r\n    state: ReadonlyArray<Contact> = [],\r\n    action: List.ListResult):\r\n    ReadonlyArray<Contact> {\r\n    switch (action.type) {\r\n        case List.LIST_RESULT:\r\n            return action.rows;\r\n        default:\r\n            return state;\r\n    }\r\n}\r\nexport const ListReducer:\r\n    ActionReducer<ReadonlyArray<Contact>> =\r\n    listReducer;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/pages/list/list.reducer.ts","import { AppState } from '../../app-state';\r\nimport { Store } from '@ngrx/store';\r\nimport { Contact } from '../../shared/contact';\r\nimport { ContactsService } from '../../shared/contacts.service';\r\nimport { Observable } from 'rxjs/Rx';\r\nimport { Actions, Effect } from '@ngrx/effects';\r\nimport { Injectable } from '@angular/core';\r\nimport * as List from './list.actions';\r\n\r\n@Injectable()\r\nexport class ListEffects {\r\n    @Effect()\r\n    list$: Observable<List.ListResult> =\r\n    this.actions$\r\n        .ofType(List.LIST)\r\n        .switchMap(() => this.store.select((x: AppState) => x.list.filter))\r\n        .switchMap((filter: string):\r\n            Observable<{} | ReadonlyArray<Contact>> =>\r\n            this.contactsService.list(filter))\r\n        .map((x: ReadonlyArray<Contact>):\r\n            List.ListResult =>\r\n            new List.ListResult(x)\r\n        );\r\n\r\n    @Effect()\r\n    delete$: Observable<List.List> =\r\n    this.actions$\r\n        .ofType(List.DELETE)\r\n        .switchMap(\r\n        (action: List.Delete): Observable<{}> => this\r\n            .contactsService\r\n            .delete(action.id)\r\n        )\r\n        .map((): List.List => new List.List());\r\n\r\n    constructor(private actions$: Actions,\r\n        private contactsService: ContactsService,\r\n        private store: Store<AppState>\r\n    ) { }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/pages/list/list.effects.ts","import { Component } from '@angular/core';\nimport { Platform } from 'ionic-angular';\nimport { StatusBar } from '@ionic-native/status-bar';\nimport { SplashScreen } from '@ionic-native/splash-screen';\n\nimport { ListComponent } from './pages/list/list.component';\n@Component({\n  templateUrl: 'app.html'\n})\nexport class AppComponent {\n  rootPage: object = ListComponent;\n\n  constructor(platform: Platform, statusBar: StatusBar, splashScreen: SplashScreen) {\n    platform.ready().then(() => {\n      // Okay, so the platform is ready and our plugins are available.\n      // Here you can do any higher level native things you might need.\n      statusBar.styleDefault();\n      splashScreen.hide();\n    });\n  }\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts","import { Contact } from './contact';\r\nimport { Observable } from 'rxjs/Rx';\r\nimport { Injectable } from '@angular/core';\r\n\r\nlet contacts: ReadonlyArray<Contact> = [\r\n    {\r\n        id: 1,\r\n        firstName: 'Dave',\r\n        lastName: 'Bush',\r\n        dateOfBirth: new Date(2000, 9, 15)\r\n    },\r\n    {\r\n        id: 2,\r\n        firstName: 'John',\r\n        lastName: 'Dough',\r\n        dateOfBirth: new Date(1990, 5, 15)\r\n    }\r\n];\r\n\r\n\r\n@Injectable()\r\nexport class ContactsService {\r\n\r\n    constructor(/*private httpClient: HttpClient*/) { }\r\n    list(filter: string): Observable<{} | ReadonlyArray<Contact>> {\r\n        // return this\r\n        //     .httpClient\r\n        //     .get<ReadonlyArray<Contact>>\r\n        //         ('/api/contacts/list')\r\n        //   .retry(2)\r\n        //   .catch((e: Error) =>\r\n        //         /* handle errors here */);\r\n        return Observable.from([contacts.filter((c: Contact) =>\r\n            (c.firstName + ' ' + c.lastName).toLocaleLowerCase().indexOf(filter.toLocaleLowerCase()) > -1\r\n        )]);\r\n    }\r\n\r\n    delete(id: number): Observable<{}> {\r\n        contacts = contacts\r\n            .filter((x: Contact) =>\r\n                x.id !== id)\r\n            .reduce(\r\n            (\r\n                previousContact: ReadonlyArray<Contact>,\r\n                currentContact: Contact) =>\r\n                [...previousContact, currentContact]\r\n            , []);\r\n        return Observable.of({});\r\n    }\r\n\r\n    get(id: number): Observable<{} | ReadonlyArray<Contact>> {\r\n        return Observable.from(\r\n            [[contacts.find((x: Contact) =>\r\n                x.id === id)]])\r\n    }\r\n\r\n    update(contact: Contact): Observable<number> {\r\n        if (contact.id < 0) {\r\n            return this.add(contact);\r\n        }\r\n        const c: Contact =\r\n            contacts.find((x: Contact) =>\r\n                x.id === contact.id);\r\n        c.dateOfBirth = contact.dateOfBirth;\r\n        c.firstName = contact.firstName;\r\n        c.lastName = contact.lastName;\r\n        contacts = [...contacts];\r\n        return Observable.of(contact.id);\r\n    }\r\n\r\n    add(contact: Contact): Observable<number> {\r\n        const maxId: number =\r\n            contacts.reduce(\r\n                (max: number, c: Contact) => {\r\n                    if (max < c.id) {\r\n                        return c.id;\r\n                    }\r\n                    return max;\r\n                }\r\n                , 0)\r\n        contact.id = maxId + 1;\r\n        contacts = [...contacts, contact];\r\n        return Observable.of(contact.id);\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/shared/contacts.service.ts","import { EditForm } from './edit-form';\r\nimport { Action } from '@ngrx/store';\r\n\r\n// tslint:disable:typedef\r\nexport const UPDATE = 'Edit.Update';\r\nexport class Update implements Action {\r\n    readonly type = UPDATE;\r\n    constructor(public form: EditForm) { }\r\n}\r\n\r\nexport const GET = 'Edit.Get';\r\nexport class Get implements Action {\r\n    readonly type = GET;\r\n    constructor(public id: number) { }\r\n}\r\n\r\nexport const SAVE = 'Edit.Save';\r\nexport class Save implements Action {\r\n    readonly type = SAVE;\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/pages/edit/edit.actions.ts"],"sourceRoot":""}